{"ast":null,"code":"var _jsxFileName = \"/Users/Rustam_Mukhamedov/Downloads/kittynews_frontend/app/javascript/packs/posts-index/posts-index.jsx\";\nimport * as React from 'react';\nimport { useQuery } from 'react-apollo';\nimport renderComponent from '../utils/renderComponent';\nimport { getAllPostsQuery } from './queries/getAllPosts';\n\nfunction PostsIndex() {\n  var _this = this;\n\n  var _useQuery = useQuery(getAllPostsQuery),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  if (loading) return 'Loading...';\n  if (error) return \"Error! \".concat(error.message);\n\n  var handleUpvote = function handleUpvote() {\n    if (data.viewer) {\n      window.location.href = \"users/sign_up\";\n      console.log(window.location.href);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, data.postsAll.map(function (post) {\n    return /*#__PURE__*/React.createElement(\"article\", {\n      className: \"post\",\n      key: post.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/posts/\".concat(post.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }\n    }, post.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"url\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: post.url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, post.url)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tagline\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }\n    }, post.tagline), /*#__PURE__*/React.createElement(\"footer\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: handleUpvote,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    }, \"\\uD83D\\uDD3C 0 \"), /*#__PURE__*/React.createElement(\"button\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, \"\\uD83D\\uDCAC \", post.commentsCount)));\n  }));\n}\n\nrenderComponent(PostsIndex);","map":{"version":3,"sources":["/Users/Rustam_Mukhamedov/Downloads/kittynews_frontend/app/javascript/packs/posts-index/posts-index.jsx"],"names":["React","useQuery","renderComponent","getAllPostsQuery","PostsIndex","data","loading","error","message","handleUpvote","viewer","window","location","href","console","log","postsAll","map","post","id","title","url","tagline","commentsCount"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,SAASC,gBAAT,QAAiC,uBAAjC;;AAEA,SAASC,UAAT,GAAsB;AAAA;;AAAA,kBACaH,QAAQ,CAACE,gBAAD,CADrB;AAAA,MACZE,IADY,aACZA,IADY;AAAA,MACNC,OADM,aACNA,OADM;AAAA,MACGC,KADH,aACGA,KADH;;AAGpB,MAAID,OAAJ,EAAa,OAAO,YAAP;AACb,MAAIC,KAAJ,EAAW,wBAAiBA,KAAK,CAACC,OAAvB;;AAEX,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAGJ,IAAI,CAACK,MAAR,EAAgB;AACdC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,eAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACC,QAAP,CAAgBC,IAA5B;AACD;AACF,GALD;;AAOA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,IAAI,CAACW,QAAL,CAAcC,GAAd,CAAkB,UAACC,IAAD;AAAA,wBACjB;AAAS,MAAA,SAAS,EAAC,MAAnB;AAA0B,MAAA,GAAG,EAAEA,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,mBAAYD,IAAI,CAACC,EAAjB,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BD,IAAI,CAACE,KAApC,CADF,CADF,eAIE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAEF,IAAI,CAACG,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBH,IAAI,CAACG,GAAzB,CADF,CAJF,eAOE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BH,IAAI,CAACI,OAA/B,CAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,OAAO,EAAEb,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAYS,IAAI,CAACK,aAAjB,CAFF,CARF,CADiB;AAAA,GAAlB,CADH,CADF;AAmBD;;AAEDrB,eAAe,CAACE,UAAD,CAAf","sourcesContent":["import * as React from 'react';\nimport { useQuery } from 'react-apollo';\nimport renderComponent from '../utils/renderComponent';\nimport { getAllPostsQuery } from './queries/getAllPosts';\n\nfunction PostsIndex() {\n  const { data, loading, error } = useQuery(getAllPostsQuery);\n  \n  if (loading) return 'Loading...';\n  if (error) return `Error! ${error.message}`;\n\n  const handleUpvote = () => {\n    if(data.viewer) {\n      window.location.href = \"users/sign_up\";\n      console.log(window.location.href);\n    }\n  }\n\n  return (\n    <div className=\"box\">\n      {data.postsAll.map((post) => (\n        <article className=\"post\" key={post.id}>\n          <h2>\n            <a href={`/posts/${post.id}`}>{post.title}</a>\n          </h2>\n          <div className=\"url\">\n            <a href={post.url}>{post.url}</a>\n          </div>\n          <div className=\"tagline\">{post.tagline}</div>\n          <footer>\n            <button onClick={handleUpvote}>ðŸ”¼ 0 </button>\n            <button>ðŸ’¬ {post.commentsCount}</button>\n          </footer>\n        </article>\n      ))}\n    </div>\n  );\n}\n\nrenderComponent(PostsIndex);\n"]},"metadata":{},"sourceType":"module"}