{"ast":null,"code":"var _jsxFileName = \"/Users/Rustam_Mukhamedov/Downloads/kittynews_frontend/app/javascript/packs/posts-show.jsx\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query PostsPage {\\n    viewer {\\n      id\\n    }\\n    postsAll {\\n      id\\n      title\\n      tagline\\n      url\\n      commentsCount\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React, { useEffect, useState } from 'react';\nimport gql from 'graphql-tag';\nimport { useQuery } from 'react-apollo';\nimport renderComponent from './utils/renderComponent';\nvar QUERY = gql(_templateObject());\n\nfunction PostsShow(_ref) {\n  var _post$user;\n\n  var postId = _ref.postId;\n\n  var _useQuery = useQuery(QUERY),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  useEffect(function () {\n    if (data && !loading) {\n      console.log('v');\n      setPost(data.postsAll.filter(function (item) {\n        return item.id == postId;\n      })[0]);\n    }\n  }, [data, loading]);\n  console.log(data);\n  console.log(post);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \"TODO: Show info about post with id \", postId, \".\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Find js file at \\\"app/javascript/packs/posts-show.jsx\\\"\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"article\", {\n    className: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/posts/\".concat(post === null || post === void 0 ? void 0 : post.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, post === null || post === void 0 ? void 0 : post.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"url\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: post === null || post === void 0 ? void 0 : post.url,\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, post === null || post === void 0 ? void 0 : post.url)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tagline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, post === null || post === void 0 ? void 0 : post.tagline), /*#__PURE__*/React.createElement(\"footer\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"\\uD83D\\uDD3C 0 \"), \" \", post === null || post === void 0 ? void 0 : post.commentsCount, \" comments | author:\", ' ', post === null || post === void 0 ? void 0 : (_post$user = post.user) === null || _post$user === void 0 ? void 0 : _post$user.name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"TODO: Show post comments\")));\n}\n\nrenderComponent(PostsShow);","map":{"version":3,"sources":["/Users/Rustam_Mukhamedov/Downloads/kittynews_frontend/app/javascript/packs/posts-show.jsx"],"names":["React","useEffect","useState","gql","useQuery","renderComponent","QUERY","PostsShow","postId","data","loading","error","post","setPost","console","log","postsAll","filter","item","id","title","url","tagline","commentsCount","user","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport gql from 'graphql-tag';\nimport { useQuery } from 'react-apollo';\nimport renderComponent from './utils/renderComponent';\n\nconst QUERY = gql`\n  query PostsPage {\n    viewer {\n      id\n    }\n    postsAll {\n      id\n      title\n      tagline\n      url\n      commentsCount\n    }\n  }\n`;\n\nfunction PostsShow({ postId }) {\n  const { data, loading, error } = useQuery(QUERY);\n  const [post, setPost] = useState(null);\n\n  useEffect(() => {\n    if(data && !loading) {\n      console.log('v');\n      setPost(data.postsAll.filter((item) => item.id == postId)[0]);\n    }\n  },[data,loading]);\n\n  console.log(data);\n  console.log(post);\n\n  if(loading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <div className=\"box\">\n        <strong>TODO: Show info about post with id {postId}.</strong>\n        <br />\n        <em>Find js file at \"app/javascript/packs/posts-show.jsx\"</em>\n      </div>\n      <div className=\"box\">\n        <article className=\"post\">\n          <h2>\n            <a href={`/posts/${post?.id}`}>{post?.title}</a>\n          </h2>\n          <div className=\"url\">\n            <a href={post?.url} target=\"_blank\">\n              {post?.url}\n            </a>\n          </div>\n          <div className=\"tagline\">{post?.tagline}</div>\n          <footer>\n            <button>ðŸ”¼ 0 </button> {post?.commentsCount} comments | author:{' '}\n            {post?.user?.name}\n          </footer>\n        </article>\n      </div>\n      <div className=\"box\">\n        <strong>TODO: Show post comments</strong>\n      </div>\n    </>\n  );\n}\n\nrenderComponent(PostsShow);\n"]},"metadata":{},"sourceType":"module"}