{"ast":null,"code":"var _jsxFileName = \"/Users/Rustam_Mukhamedov/Downloads/kittynews_frontend/app/javascript/packs/posts-show/posts-show.jsx\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useEffect, useState } from 'react';\nimport { useQuery } from 'react-apollo';\nimport renderComponent from '../utils/renderComponent';\nimport { Header } from './components/Header';\nimport { List } from './components/List';\nimport { Comments } from './components/Comments';\nimport About from './components/About';\nimport { LatestLaunches } from './components/LatestLaunches';\nimport { getPostsQuery } from './querries/getPosts';\n\nfunction PostsShow(_ref) {\n  var _post$commenters;\n\n  var postId = _ref.postId;\n\n  var _useQuery = useQuery(getPostsQuery),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  useEffect(function () {\n    if (data && !loading) {\n      setPost(data.postsAll.filter(function (item) {\n        return item.id == postId;\n      })[0]);\n    }\n  }, [data, loading]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 12\n      }\n    }, \"There is an error on the page: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 64\n      }\n    }), \" \", error.message);\n  }\n\n  var headerProps = {\n    description: post === null || post === void 0 ? void 0 : post.description,\n    tagline: post === null || post === void 0 ? void 0 : post.tagline,\n    title: post === null || post === void 0 ? void 0 : post.title,\n    image: post === null || post === void 0 ? void 0 : post.image,\n    url: post === null || post === void 0 ? void 0 : post.url\n  };\n  var about2Props = {\n    votesCount: (post === null || post === void 0 ? void 0 : post.votesCount) || 0,\n    commentsCount: (post === null || post === void 0 ? void 0 : post.commentsCount) || 0,\n    viewsCount: 1337,\n    // Mocked data\n    dailyFeedPosition: (post === null || post === void 0 ? void 0 : post.dailyFeedPosition) || 0,\n    weeklyFeedPosition: (post === null || post === void 0 ? void 0 : post.weeklyFeedPosition) || 0\n  };\n  var aboutProps = {\n    votesCount: 0,\n    commentsCount: 0,\n    viewsCount: 1337,\n    // Mocked data\n    dailyFeedPosition: 0,\n    weeklyFeedPosition: 0\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, Object.assign({}, headerProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(List, {\n    user: post === null || post === void 0 ? void 0 : post.user,\n    commenters: (_post$commenters = post === null || post === void 0 ? void 0 : post.commenters) !== null && _post$commenters !== void 0 ? _post$commenters : [],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Comments, {\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(About, {\n    a: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(LatestLaunches, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }));\n}\n\nrenderComponent(PostsShow);","map":{"version":3,"sources":["/Users/Rustam_Mukhamedov/Downloads/kittynews_frontend/app/javascript/packs/posts-show/posts-show.jsx"],"names":["React","useEffect","useState","useQuery","renderComponent","Header","List","Comments","About","LatestLaunches","getPostsQuery","PostsShow","postId","data","loading","error","post","setPost","postsAll","filter","item","id","message","headerProps","description","tagline","title","image","url","about2Props","votesCount","commentsCount","viewsCount","dailyFeedPosition","weeklyFeedPosition","aboutProps","user","commenters"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useQuery } from 'react-apollo';\nimport renderComponent from '../utils/renderComponent';\n\nimport { Header } from './components/Header';\nimport { List } from './components/List';\nimport { Comments } from './components/Comments';\nimport About from './components/About';\nimport { LatestLaunches } from './components/LatestLaunches';\n\nimport { getPostsQuery } from './querries/getPosts';\n\nfunction PostsShow({ postId }) {\n  const { data, loading, error } = useQuery(getPostsQuery);\n  const [post, setPost] = useState(null);\n  \n  useEffect(() => {\n    if(data && !loading) {\n      setPost(data.postsAll.filter((item) => item.id == postId)[0]);\n    }\n  },[data,loading]);\n\n\n  if(loading) {\n    return <div className=\"box\">Loading...</div>\n  }\n\n  if(error) {\n    return <div className=\"box\">There is an error on the page: <br/> {error.message}</div>\n  }\n\n  const headerProps = {\n    description: post?.description,\n    tagline: post?.tagline,\n    title: post?.title,\n    image: post?.image,\n    url: post?.url,\n  }\n\n  const about2Props = {\n    votesCount: post?.votesCount || 0, \n    commentsCount: post?.commentsCount || 0, \n    viewsCount: 1337,  // Mocked data\n    dailyFeedPosition: post?.dailyFeedPosition || 0, \n    weeklyFeedPosition: post?.weeklyFeedPosition || 0,\n  }\n\n  const aboutProps = {\n    votesCount: 0, \n    commentsCount: 0, \n    viewsCount: 1337,  // Mocked data\n    dailyFeedPosition: 0, \n    weeklyFeedPosition: 0,\n  }\n\n  return (\n    <div className=\"box\">\n      <Header { ...headerProps } />\n      <List user={post?.user} commenters={post?.commenters ?? []} />\n      <Comments post={post} />\n      <About a={5} />\n      <LatestLaunches />\n    </div>\n  );\n}\n\nrenderComponent(PostsShow);\n"]},"metadata":{},"sourceType":"module"}